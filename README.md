# Assertable HTML

Assertable HTML is an elegantly designed PHPUnit library that makes performing assertions on HTML responses from PHP and Laravel applications quick and enjoyable.

Here's a short example:

```php
use \Ziadoz\AssertableHtml\Dom\AssertableDocument;
use \Ziadoz\AssertableHtml\Dom\AssertableElement;

$html = AssertableDocument::createFromString(<<<HTML
<h1>Dashboard</h1>
<nav>
    <a href="/profile" class="nav-link">Profile</a>
    <a href="/logout" class="nav-link">Logout</a>
</nav>
<div id="content">
    <h2 class="subheading welcome">Welcome, Archie</h2>
    <!-- ... -->
</div>
HTML, LIBXML_NOERROR);

$html->querySelector('h1')
    ->assertTextEquals('Dashboard');

$html->with('nav', function (AssertableElement $nav) {
    $links = $nav->querySelectorAll('a')
        ->assertCount(2)
        ->assertAll(function (AssertableElement $a) {
            $a->classes->assertContains('nav-link');
        });

    $links[0]->assertAttributeEquals('href', '/profile')
        ->assertTextEquals('Profile');
        
    $links[1]->assertAttributeEquals('href', '/logout')
        ->assertTextEquals('Settings');
});

$html->querySelector('#content h2')
    ->assertClassContainsAll(['subheading', 'welcome'])
    ->assertTextContains('Welcome');
```

## About

Assertable HTML provides a similar, but not identical, API to the new PHP 8.4 HTML5 document parser. The API is deliberately much smaller in scope, as it's focused solely on performing assertions on HTML documents elements, attributes, classes and text.

I created this library because I've found testing HTML generated by templating engines such as Blade and Twig quickly becomes cumbersome. Assertable HTML provides a fluent interface for testing server side rendered HTML so it's quick and enjoyable for developers to write these tests. 

## Requirements

- PHP 8.4
- Composer

## Installation

You can install the package using Composer:

```
composer install ziadoz/assertable-html
```

### Laravel

## Usage

### Basics

### Assertions

### Advanced Assertions

## Thanks

- Archie
- PHP 8.4 HTML5 author
- Lexbor

## Contact
